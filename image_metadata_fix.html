<!doctype html>
<html lang="en-US">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Image Metadata Generator</title>
    <link rel="stylesheet" href="styles.css">
</head>
<body>
    <main id="main" class="site-main hfeed">
        <div class="elementor elementor-2799">
            <div class="elementor-element elementor-element-3e1a20db e-flex e-con-boxed e-con e-parent">
                <div class="e-con-inner">
                    <div class="elementor-element elementor-element-388dd1d4 elementor-widget elementor-widget-spacer">
                        <div class="elementor-widget-container">
                            <div class="elementor-spacer">
                                <div class="elementor-spacer-inner"></div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            <div class="elementor-element elementor-element-2ef34e08 e-flex e-con-boxed e-con e-parent">
                <div class="e-con-inner">
                    <div class="elementor-element elementor-element-17ab8f8 elementor-widget elementor-widget-heading">
                        <div class="elementor-widget-container">
                            <h1 class="elementor-heading-title elementor-size-default" style="text-align: center; font-weight: 700; font-size: 40px; line-height: 1.5;">
                                <span style="color: var(--theme-heading-color); font-family: var(--theme-font-family);">
                                    IMAGE METADATA GENERATOR
                                </span>
                            </h1>
                        </div>
                    </div>
                </div>
            </div>
            <div class="elementor-element elementor-element-def44ee e-flex e-con-boxed e-con e-parent">
                <div class="e-con-inner">
                    <div class="elementor-element elementor-element-be7601f e-con-full e-flex e-con e-child">
                        <div class="elementor-element elementor-element-fc4956b elementor-widget elementor-widget-html">
                            <div class="elementor-widget-container">
                                <!-- Konten Utama -->
                                <div class="container">
                                    <div class="api-key-section">
                                        <p>Buat API Key gratis Anda di <a href="https://makersuite.google.com/app/apikey" target="_blank" rel="noopener noreferrer">Google Gemini AI</a></p>
                                        <div class="api-key-input">
                                            <input type="text" id="apiKeyInput" placeholder="Input API Key Anda">
                                        </div>
                                        <button id="saveApiKey" class="button" style="margin-top: 1rem; width: 100%; max-width: 400px;">Simpan</button>
                                        <div id="apiKeyStatus"></div>
                                    </div>
                                    <h2>Upload Gambar Anda</h2>
                                    <div class="upload-area" id="uploadArea">
                                        <p>Drag & drop hingga 100 gambar, atau klik untuk memilih file</p>
                                        <input type="file" id="fileInput" accept="image/*" multiple>
                                    </div>
                                    <div id="imagePreview"></div>
                                    <button id="generateButton" class="button" style="display: inline-block;" disabled>Generate</button>
                                    <div id="results"></div>
                                    <button id="downloadButton" class="button" style="display: none;">Download CSV</button>
                                </div>
                                <div id="toast" class="toast"></div>
                                <script src="script.js"></script>
                                <script>
                                    // Update untuk mengizinkan hingga 100 file
                                    function handleFiles(files) {
                                        uploadedFiles = Array.from(files).slice(0, 100).filter(file => file.type.startsWith("image/"));
                                        imagePreview.innerHTML = "";
                                        uploadedFiles.forEach(file => {
                                            const img = document.createElement("img");
                                            img.src = URL.createObjectURL(file);
                                            imagePreview.appendChild(img);
                                        });
                                        generateButton.style.display = uploadedFiles.length > 0 ? "inline-block" : "none";
                                    }

                                    // Prompt baru untuk Gemini agar hasil lebih cocok dengan algoritma Adobe Stock
                                    async function generateMetadata(fileData, fileType) {
                                        const prompt = `Buat metadata Adobe Stock:
1. Judul: 5-10 kata paling relevan, ringkas, tanpa tanda baca.
2. Deskripsi: maksimal 200 karakter, jelas dan informatif.
3. Keywords: 10 kata kunci utama, relevan dan cepat terbaca.`;

                                        // sisanya tetap menggunakan logic yang telah ada
                                    }
                                </script>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        <center><h3>&copy; Milyarder Muda @copyrightbybangje (Red Team)</h3></center>
    </main>
</body>
</html>
